Arch Linux telepítése VirtualBox virtuális gépre ¤¤

Consol 1 ÷÷

loadkeys hu
setfont lat2-16 -m 8859-2

wget https://raw.githubusercontent.com/rtibor72/arch/master/al1.txt
mc

Consol 2 ÷÷

setfont lat2-16 -m 8859-2
gpm -m /dev/input/mice -t imps2

timedatectl set-ntp true

wipefs --all /dev/sda ¨¨
parted /dev/sda
	mkl msdos
	mkp pri linux-swap 0% 2048MiB
	mkp pri ext4 2048MiB 2176MiB
	set 2 boot on
	mkp pri ext4 2176MiB 2304MiB
	mkp pri 2304MiB 100%
	set 4 lvm on
	q

pvcreate /dev/sda4
vgcreate vg1 /dev/sda4
lvcreate -L 4G vg1 -n lv1
lvcreate -L 4G vg1 -n lv2

mkfs.ext4 /dev/sda2
mkfs.ext4 /dev/sda3
mkfs.ext4 /dev/vg1/lv1
mkfs.ext4 /dev/vg1/lv2
mkswap /dev/sda1
swapon /dev/sda1

mkdir -p /arch
mount /dev/vg1/lv1 /arch
mkdir -p /arch/boot
mount /dev/sda2 /arch/boot

nano /etc/pacman.d/mirrorlist
	A lokálisan legközelebbi szerver előre hozása. ––

pacstrap -i /arch base

genfstab -U /arch >> /arch/etc/fstab

arch-chroot /arch

pacman -S grub¨openssh virtualbox-guest-utils¨
	2–virtualbox-guest-modules-arch–

rm /etc/localtime
ln -s /usr/share/zoneinfo/Europe/Budapest /etc/localtime
hwclock --systohc

nano /etc/locale.gen
	´#´”hu_HU.UTF-8 UTF-8”
locale-gen
nano /etc/locale.conf
	LANG=hu_HU.UTF-8 „„
nano /etc/vconsole.conf
	KEYMAP=hu „„
	FONT=lat2-16 „„
	FONT_MAP=8859-2 „„

nano /etc/hostname
	al1 „„
nano /etc/hosts
	127.0.0.1	localhost.localdomain	localhost ””
	::1			localhost.localdomain	localhost ””
	127.0.1.1	al1.localdomain	al1 „„

ip a ¨¨
nano /etc/systemd/network/10-nd1.link
	[Match] „„
	MACAddress=00:00:00:00:00:00 „„–A megfelelő MAC cím–
	[Link] „„
	Name=nd1 „„
nano /etc/systemd/network/nd1-dhcp.network
	[Match] „„
	Name=nd1 „„
	[Network] „„
	DHCP=ipv4 „„
systemctl enable systemd-networkd.service
systemctl enable systemd-resolved.service

nano /etc/ssh/sshd_config
	´#´”PermitRootLogin”´prohibit-password´„yes„
systemctl enable sshd.service

nano /etc/mkinitcpio.conf
	”HOOKS="base udev ... block”„lvm2„”filesystems"”
cat /etc/mkinitcpio.conf ¨¨

mkinitcpio -p linux

passwd

grub-install --target=i386-pc /dev/sda
grub-mkconfig -o /boot/grub/grub.cfg
	Az LVM miatt megjelenő figyelmeztetéseket figyelmen kívül kell hagyni. ––

exit
umount -R /arch ¨¨
shutdown now
